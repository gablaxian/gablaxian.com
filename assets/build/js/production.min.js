var StarField=function(a,b){"use strict";function c(){!r&&localStorage.getItem("background_stars")?(s=JSON.parse(localStorage.getItem("background_stars")),t=JSON.parse(localStorage.getItem("flickering_stars")),u=t.length):d(),e(),window.addEventListener("resize",f),window.addEventListener("scroll",g),h()}function d(){"use asm";var a=Math.round(l/100)*(m/100).toFixed(1)*p;s=[],t=[];for(var b=0;b<a;b++)s.push({x:Math.round(Math.random()*l),y:Math.round(Math.random()*m),w:Math.random()<.5?2:1,b:Math.round(28+Math.random()*100)}),t.push({x:Math.round(Math.random()*l),y:Math.round(Math.random()*m),w:Math.random()<.5?2:1,b:Math.round(5+Math.random()*255),s:Math.random()<.5?0:1});localStorage.setItem("background_stars",JSON.stringify(s)),localStorage.setItem("flickering_stars",JSON.stringify(t)),u=t.length}function e(){j.width=l,j.height=m;for(var a=s.length,b=0;a>b;b++)k.fillStyle="rgb("+s[b].b+","+s[b].b+","+s[b].b+")",k.fillRect(s[b].x,s[b].y,2,2)}function f(){window.innerWidth!=l&&(l=window.innerWidth,m=parseInt(window.getComputedStyle(document.querySelector(".Page-masthead")).height),d(),e())}function g(){n=window.pageYOffset,o=n>m?!0:!1}function h(){o||i(),window.setTimeout(h,1e3/24)}function i(){for(var a=u;a--;){var b=t[a];1==b.s?b.b<255?b.b+=q:(b.s=0,b.b-=q):b.b>55?b.b-=q:(b.s=1,b.b+=q),k.fillStyle="rgb("+b.b+","+b.b+","+b.b+")",k.fillRect(b.x,b.y,b.w,b.w)}}var b=b||{},j=a||document.querySelector("#Starfield")||document.querySelector(".Starfield"),k=j.getContext("2d"),l=b.width||window.innerWidth,m=b.height||80,n=0,o=!1,p=b.star_density||3,q=b.speed||4,r=b.force_populate||!1,s=new Array,t=new Array,u=0;c()},h=parseInt(window.getComputedStyle(document.querySelector(".Page-masthead")).height);StarField(null,{height:h,force_populate:!0});