var StarField=function(a,b){"use strict";function c(){localStorage.getItem("background_stars")?(r=JSON.parse(localStorage.getItem("background_stars")),s=JSON.parse(localStorage.getItem("flickering_stars")),t=s.length):d(),e(),window.addEventListener("resize",f),window.addEventListener("scroll",g),h()}function d(){"use asm";var a=Math.round(l/100)*(m/100).toFixed(1)*p;r=[],s=[];for(var b=0;b<a;b++)r.push({x:Math.round(Math.random()*l),y:Math.round(Math.random()*m),w:Math.random()<.5?2:1,b:Math.round(Math.random()*128)}),s.push({x:Math.round(Math.random()*l),y:Math.round(Math.random()*m),w:Math.random()<.5?2:1,b:Math.round(Math.random()*255),s:Math.random()<.5?0:1});localStorage.setItem("background_stars",JSON.stringify(r)),localStorage.setItem("flickering_stars",JSON.stringify(s)),t=s.length}function e(){j.width=l,j.height=m,k.fillStyle="#000",k.fillRect(0,0,l,m);for(var a=r.length,b=0;a>b;b++)k.fillStyle="rgb("+r[b].b+","+r[b].b+","+r[b].b+")",k.fillRect(r[b].x,r[b].y,2,2)}function f(){window.innerWidth!=l&&(l=window.innerWidth,d(),e())}function g(){n=window.pageYOffset,o=n>m?!0:!1}function h(){o||i(),window.setTimeout(h,1e3/24)}function i(){for(var a=t;a--;){var b=s[a];1==b.s?b.b<255?b.b+=q:(b.s=0,b.b-=q):b.b>55?b.b-=q:(b.s=1,b.b+=q),k.fillStyle="rgb("+b.b+","+b.b+","+b.b+")",k.fillRect(b.x,b.y,b.w,b.w)}}var b=b||{},j=a||document.querySelector("#starfield")||document.querySelector(".starfield"),k=j.getContext("2d"),l=b.width||window.innerWidth,m=b.height||80,n=0,o=!1,p=b.star_density||10,q=b.speed||6,r=new Array,s=new Array,t=0;c()};StarField();